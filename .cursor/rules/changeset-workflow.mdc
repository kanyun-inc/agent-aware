---
description: "[Required] Bilingual Changeset Workflow - All code changes must generate bilingual changeset"
alwaysApply: true
---

# Changeset åŒè¯­å·¥ä½œæµã€å¼ºåˆ¶è§„åˆ™ã€‘

**âš ï¸ æœ¬è§„åˆ™ä¸ºå¼ºåˆ¶è§„åˆ™ï¼Œæ‰€æœ‰æ¶‰åŠå‘å¸ƒåŒ…çš„ä»£ç å˜æ›´éƒ½å¿…é¡»ç”ŸæˆåŒè¯­ changesetã€‚**

## é€‚ç”¨èŒƒå›´

ä»¥ä¸‹åŒ…çš„ä»£ç å˜æ›´å¿…é¡»ç”Ÿæˆ changesetï¼š
- `@reskill/agent-aware` (`packages/sdk/`)
- `@reskill/agent-aware-server` (`packages/server/`)

## ä¾‹å¤–æƒ…å†µ

ä»¥ä¸‹æ”¹åŠ¨**ä¸éœ€è¦**ç”Ÿæˆ changesetï¼š
- æ–‡æ¡£æ›´æ–°ï¼ˆREADMEã€æ³¨é‡Šç­‰ï¼‰
- å¼€å‘å·¥å…·é…ç½®ï¼ˆ.cursor/ã€.github/ ç­‰ï¼‰
- ç¤ºä¾‹ä»£ç  (examples/)
- è§„æ ¼æ–‡ä»¶ (specs/)
- æµ‹è¯•æ–‡ä»¶çš„çº¯é‡æ„ï¼ˆä¸æ¶‰åŠåŠŸèƒ½å˜æ›´ï¼‰

## Changeset æ ¼å¼è§„èŒƒã€å¿…é¡»éµå®ˆã€‘

æ¯ä¸ª changeset å¿…é¡»åŒ…å«**è‹±æ–‡å’Œä¸­æ–‡**ä¸¤ä¸ªç‰ˆæœ¬çš„æè¿°ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š

```markdown
---
"@reskill/agent-aware": patch
---

English summary sentence

- English detail point 1
- English detail point 2

---

ä¸­æ–‡æ‘˜è¦

- ä¸­æ–‡è¯¦ç»†è¯´æ˜ 1
- ä¸­æ–‡è¯¦ç»†è¯´æ˜ 2
```

## ç‰ˆæœ¬ç±»å‹é€‰æ‹©

- **major**: ç ´åæ€§å˜æ›´ï¼ˆBreaking Changesï¼‰
- **minor**: æ–°åŠŸèƒ½ã€æ–°ç‰¹æ€§
- **patch**: Bug ä¿®å¤ã€å°æ”¹è¿›ã€æ€§èƒ½ä¼˜åŒ–

## å·¥ä½œæµç¨‹ã€å¿…é¡»æŒ‰é¡ºåºæ‰§è¡Œã€‘

```
1. ã€å¿…é¡»ã€‘å®Œæˆä»£ç å˜æ›´å’Œæµ‹è¯•
   â†“
2. ã€å¿…é¡»ã€‘åœ¨ commit å‰åˆ›å»º changeset æ–‡ä»¶
   â†“
3. ã€å¿…é¡»ã€‘ä½¿ç”¨ pnpm changeset æˆ–æ‰‹åŠ¨åˆ›å»º .changeset/<random-name>.md
   â†“
4. ã€å¿…é¡»ã€‘changeset å†…å®¹åŒ…å«è‹±æ–‡ + ä¸­æ–‡åŒè¯­æè¿°
   â†“
5. ã€å¿…é¡»ã€‘å°† changeset æ–‡ä»¶ä¸ä»£ç å˜æ›´ä¸€èµ· commit
```

## Changeset æ–‡ä»¶ä½ç½®

```
.changeset/
â”œâ”€â”€ config.json          # changeset é…ç½®
â”œâ”€â”€ README.md            # changeset è¯´æ˜
â””â”€â”€ <random-name>.md     # å„ä¸ªå¾…å‘å¸ƒçš„ changeset
```

## æ–‡ä»¶å‘½å

Changeset æ–‡ä»¶ååº”ä½¿ç”¨éšæœºç”Ÿæˆçš„å½¢å®¹è¯+åè¯ç»„åˆï¼Œä¾‹å¦‚ï¼š
- `brave-lions-dance.md`
- `happy-dogs-run.md`
- `cool-cats-sleep.md`

å¯ä»¥ä½¿ç”¨ `pnpm changeset` å‘½ä»¤è‡ªåŠ¨ç”Ÿæˆæ–‡ä»¶åã€‚

## ç¤ºä¾‹

### ç¤ºä¾‹ 1: Bug ä¿®å¤ (patch)

```markdown
---
"@reskill/agent-aware": patch
---

Fix click event not captured on dynamically created elements

- Fixed event delegation to properly capture clicks on dynamic DOM elements
- Added mutation observer to track new elements

---

ä¿®å¤åŠ¨æ€åˆ›å»ºå…ƒç´ ä¸Šçš„ç‚¹å‡»äº‹ä»¶æœªè¢«æ•è·çš„é—®é¢˜

- ä¿®å¤äº†äº‹ä»¶å§”æ‰˜ä»¥æ­£ç¡®æ•è·åŠ¨æ€ DOM å…ƒç´ ä¸Šçš„ç‚¹å‡»
- æ·»åŠ äº† mutation observer æ¥è¿½è¸ªæ–°å…ƒç´ 
```

### ç¤ºä¾‹ 2: æ–°åŠŸèƒ½ (minor)

```markdown
---
"@reskill/agent-aware": minor
"@reskill/agent-aware-server": minor
---

Add keyboard shortcut tracking support

- New `keyboardTracker` module for tracking keyboard shortcuts
- Support for custom key combination patterns
- Integration with existing behavior reporting system

---

æ·»åŠ é”®ç›˜å¿«æ·é”®è¿½è¸ªæ”¯æŒ

- æ–°å¢ `keyboardTracker` æ¨¡å—ç”¨äºè¿½è¸ªé”®ç›˜å¿«æ·é”®
- æ”¯æŒè‡ªå®šä¹‰æŒ‰é”®ç»„åˆæ¨¡å¼
- ä¸ç°æœ‰è¡Œä¸ºä¸ŠæŠ¥ç³»ç»Ÿé›†æˆ
```

### ç¤ºä¾‹ 3: ç ´åæ€§å˜æ›´ (major)

```markdown
---
"@reskill/agent-aware-server": major
---

**Breaking Change**: Restructure output directory

- All output files now unified under `.agent-aware/` directory
- Alert files moved to `.agent-aware/alert/`
- Detail files moved to `.agent-aware/detail/`

**Migration Guide:**
1. Update file paths in your monitoring scripts
2. Alert file format changed from single object to array format

---

**ç ´åæ€§å˜æ›´**ï¼šé‡æ„è¾“å‡ºç›®å½•ç»“æ„

- æ‰€æœ‰è¾“å‡ºæ–‡ä»¶ç°åœ¨ç»Ÿä¸€åˆ° `.agent-aware/` ç›®å½•ä¸‹
- å‘Šè­¦æ–‡ä»¶ç§»è‡³ `.agent-aware/alert/`
- è¯¦ç»†æ•°æ®æ–‡ä»¶ç§»è‡³ `.agent-aware/detail/`

**è¿ç§»æŒ‡å—ï¼š**
1. æ›´æ–°ç›‘æ§è„šæœ¬ä¸­çš„æ–‡ä»¶è·¯å¾„
2. å‘Šè­¦æ–‡ä»¶æ ¼å¼ä»å•ä¸ªå¯¹è±¡å˜ä¸ºæ•°ç»„æ ¼å¼
```

## ç¦æ­¢äº‹é¡¹ã€è¿åå³åœæ­¢ã€‘

- ğŸš« **ç¦æ­¢**å‘å¸ƒåŒ…ä»£ç å˜æ›´åä¸åˆ›å»º changeset
- ğŸš« **ç¦æ­¢**åªå†™è‹±æ–‡æˆ–åªå†™ä¸­æ–‡ï¼ˆå¿…é¡»åŒè¯­ï¼‰
- ğŸš« **ç¦æ­¢**æè¿°è¿‡äºç®€å•ï¼ˆå¦‚ä»…å†™ "fix bug"ï¼‰
- ğŸš« **ç¦æ­¢**changeset ä¸ä»£ç å˜æ›´åˆ†å¼€ commit

## æ£€æŸ¥æ¸…å•

åœ¨ commit å‰ç¡®è®¤ï¼š
- [ ] ä»£ç å˜æ›´æ˜¯å¦æ¶‰åŠå‘å¸ƒåŒ…ï¼Ÿ
- [ ] æ˜¯å¦å·²åˆ›å»º changeset æ–‡ä»¶ï¼Ÿ
- [ ] changeset æ˜¯å¦åŒ…å«è‹±æ–‡æè¿°ï¼Ÿ
- [ ] changeset æ˜¯å¦åŒ…å«ä¸­æ–‡æè¿°ï¼Ÿ
- [ ] ç‰ˆæœ¬ç±»å‹æ˜¯å¦æ­£ç¡®ï¼ˆpatch/minor/majorï¼‰ï¼Ÿ
- [ ] changeset æ–‡ä»¶æ˜¯å¦åœ¨åŒä¸€ä¸ª commit ä¸­ï¼Ÿ
